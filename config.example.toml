# shortlinker 配置文件示例
# 这个文件展示了所有可用的配置选项及其默认值
# 你可以复制这个文件为 config.toml 并根据需要修改配置

[server]
# 服务器监听地址
host = "127.0.0.1"
# 服务器监听端口
port = 8080
# Unix Socket 路径（如果设置了，会覆盖 host 和 port）
# unix_socket = "/tmp/shortlinker.sock"
# CPU 核心数量（默认为系统核心数）
cpu_count = 4

[storage]
# 存储后端类型：sqlite, postgres, mysql, mariadb
type = "sqlite"
# 数据库连接 URL 或文件路径
database_url = "shortlinks.db"
# 数据库连接池大小
pool_size = 10
# 数据库连接超时（秒）
timeout = 30

[cache]
# 缓存类型：memory, redis（目前仅支持 memory)
type = "memory"
# 默认缓存过期时间（秒）
default_ttl = 3600

[cache.redis]
# Redis 连接 URL
url = "redis://127.0.0.1:6379/"
# Redis 键前缀
key_prefix = "shortlinker:"
# Redis 连接池大小
pool_size = 10

[cache.memory]
# 内存缓存最大容量（条目数）
max_capacity = 10000

[api]
# 管理 API Token（留空禁用管理 API）
admin_token = ""
# 健康检查 API Token（留空则使用 admin_token）
health_token = ""

[routes]
# 管理 API 路由前缀
admin_prefix = "/admin"
# 健康检查路由前缀
health_prefix = "/health"
# 前端面板路由前缀
frontend_prefix = "/panel"

[features]
# 是否启用 Web 管理面板
enable_admin_panel = false
# 随机短码长度
random_code_length = 6
# 默认跳转 URL
default_url = "https://esap.cc/repo"

[logging]
# 日志等级：trace, debug, info, warn, error
level = "info"
